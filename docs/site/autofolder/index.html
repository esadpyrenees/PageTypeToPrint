<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    
    <title>Catalogue d’images - PageTypeToPrint</title>
           
      <meta name="description" content="PageTypeToPrint est un gabarit web to print destiné à la mise en forme normalisée d’un document écrit de DNA ou d’un mémoire de DNSEP.">
      <meta name="author" content="Julien Bidoret">
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
      <link rel="stylesheet" href="../css/hljs-pttp.css" type="text/css">      
      <link rel="stylesheet" href="../css/pttp.css" type="text/css">

      
    

    <link rel="shortcut icon" href="../img/favicon.ico">
    <link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
  </head>

  <body>
    
    <div id="top" class="sidebar">
      <header role="banner" class="logo">
  
  <a class="header-main__link" href="..">PageTypeToPrint</a>
  
  <button id="menu-toggle" class="btn btn-default" aria-controls="nav-menu" aria-expanded="false" aria-label="Toggle Menu" title="Toggle Menu">
    <span class="menu-thumb"></span>
    <span class="menu-thumb"></span>
    <span class="menu-thumb"></span>
 </button>
</header>
      

<nav class="nav-main collapsed" aria-label="Main menu" role="navigation">
  
  
    
  
    
      <p class="caption"><span class="caption-text">Démarrer</span></p>
      <ul>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../installation/">Installation</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../contenu/">Configuration et contenu</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../theme/">Thème</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../gabarits/">Gabarits</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../markdown/">Contenu au format markdown</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../print/">Version imprimable / pdf</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../online/">Mise en ligne</a>


    <ul>
        
            
        
    </ul>


          </li>
        
      </ul>
    
  
    
      <p class="caption"><span class="caption-text">Composition</span></p>
      <ul>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../typo/">Typographie</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../sommaire/">Sommaire</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../images/">Images et vidéos</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../appendices/">Figures et annexes</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../glossaire/">Glossaire</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../entretiens/">Entretiens</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../references/">Références et bibliographie</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../notes/">Notes</a>


    <ul>
        
            
        
    </ul>


          </li>
        
      </ul>
    
  
    
      <p class="caption"><span class="caption-text">Aller plus loin</span></p>
      <ul class="current">
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../extend/">Extensions</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../extendcss/">Premiers pas</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../booklet/">Livret</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../pads/">Collaboration</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1 current">
            
<a class="reference internal current" href="./">Catalogue d’images</a>


    <ul class="current">
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../advanced-notes/">Notes avancées</a>


    <ul>
        
            
        
    </ul>


          </li>
        
      </ul>
    
  
    
      <p class="caption"><span class="caption-text">À propos</span></p>
      <ul>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../update/">Mise à jour</a>


    <ul>
        
            
        
    </ul>


          </li>
        
          <li class="toctree-l1">
            
<a class="reference internal" href="../credits/">Crédits</a>


    <ul>
        
            
        
    </ul>


          </li>
        
      </ul>
    
  
</nav>
    </div>

    <div class="main-container">
        
      
          
  <form class="form form--search" id="content_search" action="../search.html" method="get" role="search">
    <div class="form-group">
      <label class="hidden" for="mkdocs-search-query">Search for:</label>
      <input type="search" aria-label="Search" class="form__input" name="q" id="mkdocs-search-query" placeholder="Rechercher…" tabindex="3"> 
      <button type="submit" class="form__btn-submit" title="Search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50.166 49.887" direction="ltr" xmlns:v="https://vecta.io/nano"><path stroke-width="2" stroke="var(--light-text-color)" d="M20.689 36.137c3.846 0 7.369-1.396 10.098-3.695l12.418 12.482c.193.172.473.344.795.344.795 0 1.225-.602 1.225-1.225a1.11 1.11 0 0 0-.344-.795L32.463 30.809c2.471-2.771 3.996-6.445 3.996-10.42 0-8.658-7.111-15.77-15.77-15.77S4.941 11.73 4.941 20.389s7.09 15.748 15.748 15.748zm0-1.053c-8.078 0-14.695-6.617-14.695-14.695S12.611 5.672 20.689 5.672s14.717 6.639 14.717 14.717-6.639 14.695-14.717 14.695z"></path></svg>
      </button>
    </div>
  </form>

      
      
      
        
          <main class="page-content" data-js="mainContent" role="main">
  <h2 id="catalogue-dimages">Catalogue d’images</h2>
<p>On peut déterminer que la source d’un contenu ne soit ni un fichier markdown, ni l’URL d’un pad, mais un dossier d’images.</p>
<p>C’est une solution moins souple et moins précise que la structuration d’une série d’images via les logiques décrites dans la <a href="../appendices/">gestion des annexes</a>, mais beaucoup plus rapide :)</p>
<pre><code class="language-yaml">parts:

  - title: Images en vrac 
    file: &quot;&quot; # la déclaration &quot;file&quot; reste vide (ou est supprimée)
    folder: images/dossier # on déclare le chemin vers le dossier 
    template: autofolder # le gabarit de mise en page 

  …

</code></pre>
<p>Les fichiers gif, jpg, png, svg et webp seront automatiquement intégrés dans une succession d’éléments <code>&lt;figure&gt;</code>. </p>
<p>Les images verticales (hauteur &gt; largeur) auront une class <code>portrait</code> ; les horizontales une class <code>landscape</code>.</p>
<h3 id="exemple-pas-a-pas">Exemple pas à pas</h3>
<p>Le thème <code>catalogue</code> simplifie à l’extrême les logiques initiales de <em>PageTypeToPrint</em> pour n’en conserver qu’une structure minimale :</p>
<ul>
<li>à l’écran : une simple page qui liste des images en faisant varier leur taille et leur mise en page de manière aléatoire.</li>
<li>en version imprimée : un format A4 fermé imposé automatiquement sur format A3 (feuilles à plier et encarter pour fabriquer un livret).</li>
</ul>
<p>Une démo est accessible dans sa <a href="https://ateliers.esad-pyrenees.fr/pagetypetoprint/catalogue/">version écran</a> et dans sa <a href="https://ateliers.esad-pyrenees.fr/pagetypetoprint/catalogue/?print">version imprimable</a>.</p>
<h4 id="etape-1-configuration-du-document">Étape 1 : configuration du document</h4>
<pre><code class="language-yml"># Le thème
theme: &quot;catalogue&quot;

# Le titre 
title: Three D Scans

# Des méta-données spécifiques peuvent être créées 
url: threedscans.org
date: 19/09/2023

# Structure du contenu 
parts:
  - title: Three D Scans
    folder: content/images # ← le dossier d’images
    template: autofolder # ← le gabarit 

  - title: About
    file : content/about.md
    template : default
</code></pre>
<h4 id="etape-2-simplification-de-bodyphp">Étape 2 : simplification de <code>body.php</code></h4>
<p>Suppression de la navigation, du sommaire et des titres courants.</p>
<pre><code class="language-html">&lt;header id=&quot;header&quot;&gt;
    &lt;!-- Le titre  --&gt;
    &lt;h1&gt;&lt;?= $title ?&gt;&lt;/h1&gt;
    &lt;!-- le folio --&gt;
    &lt;span class=&quot;folio&quot;&gt;&lt;/span&gt;
    &lt;!-- affichage des méta-données spécifiques --&gt;
    &lt;div class=&quot;meta&quot;&gt;
        &lt;span class=&quot;meta-url&quot;&gt;&lt;a href=&quot;&lt;?= $url ?&gt;&quot;&gt;&lt;?= $url ?&gt;&lt;/a&gt;&lt;/span&gt;        
        &lt;span class=&quot;meta-date&quot;&gt;&lt;?= $date ?&gt;&lt;/span&gt;      
    &lt;/div&gt;
&lt;/header&gt;
&lt;main id=&quot;main&quot;&gt;
    &lt;!-- le contenu --&gt;      
    &lt;?= $html() ?&gt;
&lt;/main&gt;
</code></pre>
<h4 id="etape-2-simplification-de-la-css-stylecss">Étape 2 : simplification de la CSS <code>style.css</code></h4>
<p>Une large part de la feuille de style par défaut n’est pas utile dans le cadre d’un simple catalogue d’image. On peut ainsi supprimer une grande part des règles de mise en forme : méta-données, typographie, navigation, gabarits <em>interview</em>, <em>appendices</em>, glossaire, colonnes, images de note, notes de marge, etc.</p>
<p>Les règles correspondant au gabarit <code>autofolder</code> peuvent déterminer une grille <em>responsive</em> et préciser le comportement des images et des légendes :</p>
<pre><code class="language-css">.autofolder .content {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  grid-gap: var(--spacer);
}
.autofolder .figure {
  margin: 0;
  padding: 0;
}
.autofolder img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: bottom;
}
.autofolder figcaption {
  text-align: center;
  font-size: .75em;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  height: 1.5em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
</code></pre>
<h4 id="etape-3-modifications-de-screen_headphp">Étape 3 : Modifications de <code>screen_head.php</code></h4>
<p>Les appels du script <code>screen/sidenotes.js</code> et des scripts d’<a href="../appendices/#à-l’aide-!">aide à la mise en page</a> sont supprimés. </p>
<p>Dans l’exemple de thème <code>catalogue</code>, on ajoute un appel au script (<code>screen/script.js</code>), qui intervient pour modifier aléatoirement la largeur des figures et déstructurer la grille.</p>
<h4 id="etape-4-modifications-de-la-css-printcss">Étape 4 : Modifications de la CSS <code>print.css</code></h4>
<p>Déclaration du format de page et de la pagination par défaut, ainsi que de la page de couverture et des pages vides.</p>
<pre><code class="language-css">@page {
  size: 210mm 297mm;
}  
@page:right {
  margin: 1cm 2cm 2.5cm 1cm;
  @bottom-right-corner {
    content: element(folioRunning);
    text-align: left;
  }
}
@page:left {
  margin: 1cm 1cm 2.5cm 2cm;
  @bottom-left-corner {
    content: element(folioRunning);
    text-align: left;
  }
}
@page cover {
  margin: 1cm 1cm 2.5cm 1cm;    
  @bottom-left-corner { display: none; }
  @bottom-right-corner { display: none; }
}
@page:blank {
  @bottom-left-corner { display: none; }
  @bottom-right-corner { display: none; }
}

</code></pre>
<h4 id="etape-5-modifications-de-print_headphp">Étape 5 : Modifications de <code>print_head.php</code></h4>
<p>Les appels des scripts liés aux notes iconographiques et de bas de page, au sommaire, etc. sont supprimés. </p>
<p>Le format fermé (A4) étant défini en CSS, on inclut l’appel du script <code>print/imposition.js</code> qui permet de générer l’imposition des pages A4 et de modifier le format de sortie pour que deux pages puissent être imprimées sur la même face.</p>
<p>Si besoin, ce script insère des pages blanches pour que la pagination soit un multiple de quatre.</p>
<p>Dans l’exemple de thème <code>catalogue</code> –juste pour montrer que c’est possible…–, on ajoute un appel au script <code>print/bigfigures.js</code>, qui intervient pour modifier la largeur et la hauteur de certaines figures, sélectionnées manuellement via leur <code>id</code>.</p>

  <div class="prevnext">
    
      
        <a href="../pads/" class="maincontent__link maincontent__link--previous-page">← Collaboration</a>
      
      
        <a href="../advanced-notes/" class="maincontent__link maincontent__link--next-page"> Notes avancées →</a>
      
    
  </div>

</main>

<aside class="page-toc" data-js="toc" role="complementary" aria-label="Table of Contents for this page">
  <div class="toc">
    <p class="page-toc__heading">Dans cette page :</p>
    <ul>
    
        <li class="page-toc__item"><a href="#catalogue-dimages" class="page-toc__link" data-js="tocLink" tabindex="0">Catalogue d’images</a></li>
        
            <li class="page-toc__item"><a href="./#exemple-pas-à-pas" class="page-toc__link" data-js="tocLink" tabindex="0">Exemple pas à pas</a></li>
        
    
    </ul>
</div>
</aside>
        
      

      
        <footer class="page-footer" role="contentinfo">          
          
            <p>© Julien Bidoret, 2022–2023. <a href="https://github.com/esadpyrenees/PageTypeToPrint/">PageTypeToPrint </a> docs  built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
          
        </footer>
      

    </main>
    
    
      <script>var base_url = '..';</script>
      <script src="../js/highlight.min.js"></script>
      <script src="../js/hljs-pttp.js"></script>
      <script src="../js/pttp.js"></script>
      
        <script src="../search/main.js"></script>
      
    
    <!--
    MkDocs version : 1.4.2
    PageTypeToPrint MkDocs theme version : 1.0.0
    Build Date UTC : 2024-11-05 12:39:24.555917+00:00
    -->
  </body>
</html>